<%= render @location %>

<% if @location.images.attached? %>
  <div class="mb-4">
    <% @location.images.each do |image| %>
      <%= image_tag image, class: "img-fluid mb-3", alt: @location.name %>
    <% end %>
  </div>
<% end %>

<% if user_signed_in? %>
  <% if current_user.favorites.exists?(location: @location) %>
    <%= button_to 'Remove from Favorites', location_favorite_path(@location), method: :delete, class: 'btn btn-danger' %>
  <% else %>
    <%= button_to 'Add to Favorites', location_favorite_path(@location), method: :post, class: 'btn btn-primary' %>
  <% end %>
<% end %>

<% if flash[:notice] %>
  <div class="alert alert-success"><%= flash[:notice] %></div>
<% elsif flash[:alert] %>
  <div class="alert alert-danger"><%= flash[:alert] %></div>
<% end %>

<div class="mt-4">
  <%= link_to "Edit this location", edit_location_path(@location), class: "btn btn-info mr-2 mr-2" %>
  <%= link_to "Back to locations", locations_path, class: "btn btn-info mr-2" %>
  <%= button_to "Destroy this location", @location, method: :delete, data: { confirm: "Are you sure you want to delete this location?" }, class: "btn btn-danger" %>
</div>
